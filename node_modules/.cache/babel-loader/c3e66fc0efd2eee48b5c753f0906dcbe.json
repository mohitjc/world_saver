{"ast":null,"code":"var _jsxFileName = \"/home/jc-2/Documents/sociality-web/src/components/projects/InviteModal.js\";\n// import 'bootstrap/dist/css/bootstrap.min.css';\nimport React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Button } from 'react-bootstrap';\nimport Modal from 'react-bootstrap/Modal';\nimport Select from 'react-select';\nimport swal from 'sweetalert';\nimport { sendInvites } from './../../store/actions/userActions';\nimport { Media, Col } from 'reactstrap';\nimport Image from 'react-bootstrap/Image';\nimport userImg from './user.png';\nconst InviteModal = _ref => {\n  let {\n    isOpen,\n    handleModal,\n    userList,\n    selectedProject\n  } = _ref;\n  const dispatch = useDispatch();\n  const [emails, set_emails] = useState([]);\n  const setOptions = users => {\n    const arr = [];\n    if (users && users.data && users.data.users) {\n      const list = users.data.users;\n      list.map(user => {\n        if (user.email) {\n          arr.push({\n            id: user.id,\n            value: user.email,\n            label: user.fullName\n          });\n        }\n      });\n    }\n    return arr;\n  };\n  const setEmails = value => {\n    set_emails(value);\n  };\n  const sendInvite = () => {\n    dispatch(sendInvites({\n      projectId: selectedProject,\n      users: emails\n    }, res => {\n      if (res) {\n        swal('Invites sent successfully !!!', {\n          buttons: false,\n          timer: 1500\n        });\n        handleModal();\n      }\n    }));\n  };\n  const CustomOption = props => {\n    const {\n      innerProps,\n      innerRef\n    } = props;\n    return /*#__PURE__*/React.createElement(Media, Object.assign({\n      ref: innerRef\n    }, innerProps, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(Media, {\n      left: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: userImg,\n      roundedCircle: true,\n      className: \"invite-img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(Media, {\n      body: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Media, {\n      heading: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }\n    }, \" \", props.data.label), props.data.value));\n  };\n  return /*#__PURE__*/React.createElement(Modal, {\n    show: isOpen,\n    onHide: handleModal,\n    dialogClassName: \"modal-90w\",\n    backdrop: \"static\",\n    keyboard: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, \"Select User Emails\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    options: setOptions(userList),\n    isMulti: true,\n    onChange: e => setEmails(e),\n    components: {\n      Option: CustomOption\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"secondary\",\n    onClick: handleModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, \"Close\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    onClick: sendInvite,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, \"Send Invite\")));\n};\nexport default InviteModal;","map":{"version":3,"names":["React","useState","useEffect","useSelector","useDispatch","Button","Modal","Select","swal","sendInvites","Media","Col","Image","userImg","InviteModal","isOpen","handleModal","userList","selectedProject","dispatch","emails","set_emails","setOptions","users","arr","data","list","map","user","email","push","id","value","label","fullName","setEmails","sendInvite","projectId","res","buttons","timer","CustomOption","props","innerProps","innerRef","e","Option"],"sources":["/home/jc-2/Documents/sociality-web/src/components/projects/InviteModal.js"],"sourcesContent":["// import 'bootstrap/dist/css/bootstrap.min.css';\nimport React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Button } from 'react-bootstrap';\nimport Modal from 'react-bootstrap/Modal';\nimport Select from 'react-select';\nimport swal from 'sweetalert';\nimport { sendInvites } from './../../store/actions/userActions';\nimport { Media, Col } from 'reactstrap';\nimport Image from 'react-bootstrap/Image';\nimport userImg from './user.png';\nconst InviteModal = ({ isOpen, handleModal, userList, selectedProject }) => {\n  const dispatch = useDispatch();\n  const [emails, set_emails] = useState([]);\n  const setOptions = (users) => {\n    const arr = [];\n    if (users && users.data && users.data.users) {\n      const list = users.data.users;\n      list.map((user) => {\n        if (user.email) {\n          arr.push({\n            id: user.id,\n            value: user.email,\n            label: user.fullName,\n          });\n        }\n      });\n    }\n    return arr;\n  };\n  const setEmails = (value) => {\n    set_emails(value);\n  };\n  const sendInvite = () => {\n    dispatch(\n      sendInvites({ projectId: selectedProject, users: emails }, (res) => {\n        if (res) {\n          swal('Invites sent successfully !!!', {\n            buttons: false,\n            timer: 1500,\n          });\n          handleModal();\n        }\n      })\n    );\n  };\n  const CustomOption = (props) => {\n    const { innerProps, innerRef } = props;\n    return (\n      <Media ref={innerRef} {...innerProps}>\n        <Media left>\n          <Image src={userImg} roundedCircle className=\"invite-img\" />\n        </Media>\n        <Media body>\n          <Media heading> {props.data.label}</Media>\n          {props.data.value}\n        </Media>\n      </Media>\n    );\n  };\n\n  return (\n    <Modal\n      show={isOpen}\n      onHide={handleModal}\n      dialogClassName=\"modal-90w\"\n      backdrop=\"static\"\n      keyboard={false}\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>Select User Emails</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <Select\n          options={setOptions(userList)}\n          isMulti\n          onChange={(e) => setEmails(e)}\n          components={{ Option: CustomOption }}\n        />\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"secondary\" onClick={handleModal}>\n          Close\n        </Button>\n        <Button variant=\"primary\" onClick={sendInvite}>\n          Send Invite\n        </Button>\n      </Modal.Footer>\n    </Modal>\n  );\n};\n\nexport default InviteModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}