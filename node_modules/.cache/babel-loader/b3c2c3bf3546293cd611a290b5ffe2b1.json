{"ast":null,"code":"var _jsxFileName = \"/home/jc-2/Documents/sociality-web/src/components/Posts/PostItems.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport swal from 'sweetalert';\nimport { getSuccess } from '../../store/actions';\nimport { allPost } from '../../store/actions/userActions';\nimport { ALL_POST, AXIOS_INSTANCE, DELETE_POST, GET_POSTS, POST_API } from '../../store/constants';\nimport { checkHttpStatus, parseJSON } from '../../utils/helpers';\nconst PostItems = _ref => {\n  let {\n    item,\n    index,\n    handAddFormToggle,\n    handleFormVisibilty,\n    deleteUser,\n    deletePost,\n    getUserId,\n    changeStatus,\n    getStatus,\n    page,\n    count,\n    posts\n  } = _ref;\n  const handleInvite = async () => {\n    const getUrl = `${ALL_POST}/allposts`;\n\n    //  const getUrl = `${USER_API}?type=${type}&search=${search}&page=${page}&count=${10}&roles=${roles}&sortBy=${sortType} ${sort}`;\n    const token = localStorage.getItem('token');\n    const config = {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    AXIOS_INSTANCE.get(getUrl, config).then(data => {\n      console.log(data.data.total, 'dat65656a');\n    });\n  };\n  const handleDelete = () => {\n    console.log(item, 'itemitemitem');\n    const payload = {\n      id: item && item.id,\n      model: \"createpost\"\n    };\n    const token = localStorage.getItem('token');\n    swal({\n      title: 'Are you sure?',\n      text: 'you want to delete the post!',\n      icon: 'warning',\n      buttons: true,\n      dangerMode: true\n    }).then(willDelete => {\n      console.log(willDelete, 'willDelete');\n      if (willDelete) {\n        const getUrl = `${DELETE_POST}`;\n        const config = {\n          headers: {\n            Authorization: `Bearer ${token}`\n          },\n          data: payload\n        };\n        console.log(config, 'config');\n        AXIOS_INSTANCE.delete(getUrl, config).then(result => {\n          console.log(result, 'result12');\n          window.location.reload();\n          handleInvite();\n          if (result.success) {\n            console.log('result');\n          } else {\n            const errMsg = result.error && result.error.message ? result.error.message : 'Something went wrong. Kindly try again later !!!';\n          }\n        });\n\n        // deleteUser(item && item.id, token);\n        // deletePost(payload, token)\n      } else {\n        return null;\n      }\n    });\n  };\n  console.log(item, 'asdasd');\n\n  // console.log('page * count ', page, count);\n  // console.log('page * count ', page * count);\n  // console.log('page * count ', page * count - (count - 1));\n  return /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, index + page * count - (count - 1)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/post/${item && item.id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, item && item.user_post ? item.user_post : '___')), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-icon btn-danger\",\n    onClick: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-trash\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 25\n    }\n  }))));\n};\nexport default PostItems;","map":{"version":3,"names":["React","Link","swal","getSuccess","allPost","ALL_POST","AXIOS_INSTANCE","DELETE_POST","GET_POSTS","POST_API","checkHttpStatus","parseJSON","PostItems","item","index","handAddFormToggle","handleFormVisibilty","deleteUser","deletePost","getUserId","changeStatus","getStatus","page","count","posts","handleInvite","getUrl","token","localStorage","getItem","config","headers","Authorization","get","then","data","console","log","total","handleDelete","payload","id","model","title","text","icon","buttons","dangerMode","willDelete","delete","result","window","location","reload","success","errMsg","error","message","user_post"],"sources":["/home/jc-2/Documents/sociality-web/src/components/Posts/PostItems.js"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport swal from 'sweetalert';\nimport { getSuccess } from '../../store/actions';\nimport { allPost } from '../../store/actions/userActions';\nimport { ALL_POST, AXIOS_INSTANCE, DELETE_POST, GET_POSTS, POST_API } from '../../store/constants';\nimport { checkHttpStatus, parseJSON } from '../../utils/helpers';\n\nconst PostItems = ({\n    item,\n    index,\n    handAddFormToggle,\n    handleFormVisibilty,\n    deleteUser,\n    deletePost,\n    getUserId,\n    changeStatus,\n    getStatus,\n    page,\n    count,\n    posts\n}) => {\n\n    const handleInvite = async () => {\n        const getUrl = `${ALL_POST}/allposts`;\n\n        //  const getUrl = `${USER_API}?type=${type}&search=${search}&page=${page}&count=${10}&roles=${roles}&sortBy=${sortType} ${sort}`;\n        const token = localStorage.getItem('token');\n        const config = { headers: { Authorization: `Bearer ${token}` } };\n        AXIOS_INSTANCE.get(getUrl, config)\n            .then((data) => {\n                console.log(data.data.total, 'dat65656a');\n          \n\n            })\n    };\n    \n        const handleDelete = () => {\n            console.log(item, 'itemitemitem');\n            const payload = { id: item && item.id, model: \"createpost\" };\n            const token = localStorage.getItem('token');\n\n            swal({\n                title: 'Are you sure?',\n                text: 'you want to delete the post!',\n                icon: 'warning',\n                buttons: true,\n                dangerMode: true\n            }).then(willDelete => {\n                console.log(willDelete, 'willDelete');\n                if (willDelete) {\n                    const getUrl = `${DELETE_POST}`;\n                    const config = { headers: { Authorization: `Bearer ${token}` }, data: payload };\n                    console.log(config, 'config');\n\n                    AXIOS_INSTANCE.delete(getUrl, config)\n                        .then((result) => {\n                            console.log(result, 'result12');\n                            window.location.reload()\n                            handleInvite()\n\n                            if (result.success) {\n                                console.log('result');\n                            } else {\n                                const errMsg =\n                                    result.error && result.error.message\n                                        ? result.error.message\n                                        : 'Something went wrong. Kindly try again later !!!';\n                            }\n                        })\n\n\n\n\n                    // deleteUser(item && item.id, token);\n                    // deletePost(payload, token)\n\n                } else {\n                    return null;\n                }\n            });\n        };\n        console.log(item, 'asdasd');\n\n        // console.log('page * count ', page, count);\n        // console.log('page * count ', page * count);\n        // console.log('page * count ', page * count - (count - 1));\n        return (\n            <tr>\n                <td>{index + page * count - (count - 1)}</td>\n                <td>\n                    <Link to={`/post/${item && item.id}`}>\n                        {item && item.user_post ? item.user_post : '___'}\n                    </Link>\n                </td>\n\n\n                <td>\n\n                    <button\n                        type=\"button\"\n                        className=\"btn btn-icon btn-danger\"\n                        onClick={handleDelete}\n                    >\n                        <i className=\"fas fa-trash\" />\n                    </button>\n                </td>\n            </tr>\n        );\n    };\n\n    export default PostItems;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}