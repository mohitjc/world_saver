{"ast":null,"code":"var _jsxFileName = \"/home/jc-2/Documents/sociality-web/src/components/login/LoginForm.js\";\nimport React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { withFormik } from 'formik';\nimport { object as yupObject, string as yupString } from 'yup';\nimport swal from 'sweetalert';\nimport { login, resetLogin } from '../../store/actions/loginActions';\nconst LoginForm = _ref => {\n  let {\n    // login,\n    handleSubmit,\n    handleBlur,\n    handleChange,\n    values,\n    isRequesting,\n    isSuccess,\n    isError,\n    errors,\n    touched,\n    data,\n    resetLogin\n  } = _ref;\n  useEffect(() => {\n    if (isSuccess) {\n      resetLogin();\n    } else if (isError) {\n      swal(data && data.data && data.data.message, {\n        buttons: false,\n        timer: 1500\n      });\n      resetLogin();\n    }\n  }, [isSuccess, isError, data, resetLogin]);\n  // console.log('data', data);\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"needs-validation\",\n    noValidate: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"email\",\n    type: \"email\",\n    className: \"form-control\",\n    name: \"username\",\n    tabIndex: \"1\",\n    required: true,\n    autoFocus: true,\n    value: values.username,\n    onBlur: handleBlur,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"invalid-feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, \"Please fill in your email\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    className: \"control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, \"Password\")), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"password\",\n    type: \"password\",\n    className: \"form-control\",\n    name: \"password\",\n    tabIndex: \"2\",\n    required: true,\n    value: values.password,\n    onBlur: handleBlur,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"invalid-feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, \"please fill in your password\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/forgot-password\",\n    className: \"float-left mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, \"Forgot Password?\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: `btn btn-primary btn-lg btn-icon icon-right ${isRequesting ? 'btn-progress disabled' : ''}`,\n    tabIndex: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, \"Login\")));\n};\nconst LoginFormFormik = withFormik({\n  enableReinitialize: true,\n  mapPropsToValues: () => {\n    return {\n      username: '',\n      password: ''\n    };\n  },\n  validationSchema: yupObject().shape({\n    username: yupString().email('Email Required '),\n    password: yupString().min(8)\n  }),\n  handleSubmit: async (values, _ref2) => {\n    let {\n      props,\n      setSubmitting,\n      resetForm\n    } = _ref2;\n    // const { router } = props;\n    // console.log('state values', values);\n    props.login({\n      username: values.username,\n      password: values.password,\n      client_id: '5x7EuN09HAeBn2pYJnvvq7szgJaULh14',\n      grant_type: 'password'\n    });\n    // resetForm();\n  },\n\n  displayName: 'Login' // helps with React DevTools\n})(LoginForm);\nconst mapStateToProps = state => ({\n  data: state.login.data,\n  isRequesting: state.login.isRequesting,\n  isSuccess: state.login.isSuccess,\n  isError: state.login.isError\n});\nexport default connect(mapStateToProps, {\n  login,\n  resetLogin\n})(LoginFormFormik);","map":{"version":3,"names":["React","useEffect","Link","connect","withFormik","object","yupObject","string","yupString","swal","login","resetLogin","LoginForm","handleSubmit","handleBlur","handleChange","values","isRequesting","isSuccess","isError","errors","touched","data","message","buttons","timer","username","password","LoginFormFormik","enableReinitialize","mapPropsToValues","validationSchema","shape","email","min","props","setSubmitting","resetForm","client_id","grant_type","displayName","mapStateToProps","state"],"sources":["/home/jc-2/Documents/sociality-web/src/components/login/LoginForm.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { withFormik } from 'formik';\nimport { object as yupObject, string as yupString } from 'yup';\nimport swal from 'sweetalert';\n\nimport { login, resetLogin } from '../../store/actions/loginActions';\n\nconst LoginForm = ({\n  // login,\n  handleSubmit,\n  handleBlur,\n  handleChange,\n  values,\n  isRequesting,\n  isSuccess,\n  isError,\n  errors,\n  touched,\n  data,\n  resetLogin\n}) => {\n  useEffect(() => {\n    if (isSuccess) {\n      resetLogin();\n    } else if (isError) {\n      swal(data && data.data && data.data.message, {\n        buttons: false,\n        timer: 1500\n      });\n      resetLogin();\n    }\n  }, [isSuccess, isError, data, resetLogin]);\n  // console.log('data', data);\n  return (\n    <form onSubmit={handleSubmit} className=\"needs-validation\" noValidate=\"\">\n      <div className=\"form-group\">\n        <label htmlFor=\"email\">Email</label>\n        <input\n          id=\"email\"\n          type=\"email\"\n          className=\"form-control\"\n          name=\"username\"\n          tabIndex=\"1\"\n          required\n          autoFocus\n          value={values.username}\n          onBlur={handleBlur}\n          onChange={handleChange}\n        />\n        <div className=\"invalid-feedback\">Please fill in your email</div>\n      </div>\n\n      <div className=\"form-group\">\n        <div className=\"d-block\">\n          <label htmlFor=\"password\" className=\"control-label\">\n            Password\n          </label>\n        </div>\n        <input\n          id=\"password\"\n          type=\"password\"\n          className=\"form-control\"\n          name=\"password\"\n          tabIndex=\"2\"\n          required\n          value={values.password}\n          onBlur={handleBlur}\n          onChange={handleChange}\n        />\n        <div className=\"invalid-feedback\">please fill in your password</div>\n      </div>\n\n      <div className=\"form-group text-right\">\n        <Link to=\"/forgot-password\" className=\"float-left mt-3\">\n          Forgot Password?\n        </Link>\n        <button\n          type=\"submit\"\n          className={`btn btn-primary btn-lg btn-icon icon-right ${\n            isRequesting ? 'btn-progress disabled' : ''\n          }`}\n          tabIndex=\"4\"\n        >\n          Login\n        </button>\n      </div>\n    </form>\n  );\n};\n\nconst LoginFormFormik = withFormik({\n  enableReinitialize: true,\n  mapPropsToValues: () => {\n    return {\n      username: '',\n      password: ''\n    };\n  },\n\n  validationSchema: yupObject().shape({\n    username: yupString().email('Email Required '),\n    password: yupString().min(8)\n  }),\n  handleSubmit: async (values, { props, setSubmitting, resetForm }) => {\n    // const { router } = props;\n    // console.log('state values', values);\n    props.login({\n      username: values.username,\n      password: values.password,\n      client_id: '5x7EuN09HAeBn2pYJnvvq7szgJaULh14',\n      grant_type: 'password'\n    });\n    // resetForm();\n  },\n\n  displayName: 'Login' // helps with React DevTools\n})(LoginForm);\n\nconst mapStateToProps = state => ({\n  data: state.login.data,\n  isRequesting: state.login.isRequesting,\n  isSuccess: state.login.isSuccess,\n  isError: state.login.isError\n});\n\nexport default connect(mapStateToProps, { login, resetLogin })(LoginFormFormik);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}