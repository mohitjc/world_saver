{"ast":null,"code":"var _jsxFileName = \"/home/jc-2/Documents/sociality-web/src/pages/Contents.js\";\nimport React, { useState, useEffect } from 'react';\nimport swal from 'sweetalert';\nimport Layout from '../components/global/Layout';\nimport MainSidebar from '../components/global/MainSidebar';\nimport SectionHeader from '../components/global/SectionHeader';\nimport ContentForm from '../components/contents/ContentForm';\nimport ContentListing from '../components/contents/ContentListing';\nimport ApiClient from '../components/apiClient';\nimport { API_SLUG } from '../store/constants';\n\nconst Contents = () => {\n  const token = localStorage.getItem('token');\n  const [sort, setSort] = useState(false);\n  const [searchKeyword, setSearchKeyword] = useState('');\n  const [status, setStatus] = useState(null);\n  const [data, setData] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [page, setPage] = useState(1);\n  const count = 5;\n  useEffect(() => {\n    // if (isDeleteSuccess) {\n    //   swal('Blog has been deleted!', {\n    //     buttons: false,\n    //     timer: 1500\n    //   });\n    //   resetDeleteBlog();\n    // }\n    getData();\n  }, []);\n\n  const getData = (p = '') => {\n    let filter = {\n      search: p.search ? p.search : ''\n    };\n    ApiClient.get('/pages', filter).then(res => {\n      if (res.data.success) {\n        setData(res.data.data);\n        setTotal(res.data.total);\n      }\n    });\n  };\n\n  const [formVisibility, setFormVisibilty] = useState(false);\n  const [isAddForm, setIsAddForm] = useState(false);\n  const [blogId, setBlogId] = useState(null);\n  const [singleContent, setSingleContent] = useState();\n\n  const handleFormVisibilty = () => {\n    setFormVisibilty(!formVisibility);\n  };\n\n  const handAddFormToggle = bool => {\n    setIsAddForm(bool);\n  };\n\n  const getBlogId = itm => {\n    setBlogId(itm.slug);\n    setSingleContent(itm);\n  };\n\n  const getSearchKeyword = value => {\n    setSearchKeyword(value);\n    getData({\n      search: value\n    });\n  }; // console.log('isDeleteError', isDeleteError);\n\n\n  return /*#__PURE__*/React.createElement(Layout, {\n    title: \"Contents\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MainSidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SectionHeader, {\n    title: \"Contents\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }), !formVisibility ? /*#__PURE__*/React.createElement(ContentListing, {\n    getSearchKeyword: getSearchKeyword,\n    handleFormVisibilty: handleFormVisibilty,\n    handAddFormToggle: handAddFormToggle,\n    data: data && data,\n    total: total && total,\n    page: page,\n    count: count,\n    setPage: setPage,\n    getBlogId: getBlogId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(ContentForm, {\n    handleFormVisibilty: handleFormVisibilty,\n    singleContent: singleContent,\n    blogId: blogId,\n    getData: getData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }))));\n};\n\nexport default Contents;","map":{"version":3,"sources":["/home/jc-2/Documents/sociality-web/src/pages/Contents.js"],"names":["React","useState","useEffect","swal","Layout","MainSidebar","SectionHeader","ContentForm","ContentListing","ApiClient","API_SLUG","Contents","token","localStorage","getItem","sort","setSort","searchKeyword","setSearchKeyword","status","setStatus","data","setData","total","setTotal","page","setPage","count","getData","p","filter","search","get","then","res","success","formVisibility","setFormVisibilty","isAddForm","setIsAddForm","blogId","setBlogId","singleContent","setSingleContent","handleFormVisibilty","handAddFormToggle","bool","getBlogId","itm","slug","getSearchKeyword","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\n\nimport swal from 'sweetalert';\nimport Layout from '../components/global/Layout';\nimport MainSidebar from '../components/global/MainSidebar';\nimport SectionHeader from '../components/global/SectionHeader';\nimport ContentForm from '../components/contents/ContentForm';\nimport ContentListing from '../components/contents/ContentListing';\nimport ApiClient from '../components/apiClient';\nimport { API_SLUG } from '../store/constants';\nconst Contents = () => {\n  const token = localStorage.getItem('token');\n  const [sort, setSort] = useState(false);\n  const [searchKeyword, setSearchKeyword] = useState('');\n  const [status, setStatus] = useState(null);\n  const [data, setData] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [page, setPage] = useState(1);\n  const count=5;\n\n\n\n  useEffect(() => {\n    // if (isDeleteSuccess) {\n    //   swal('Blog has been deleted!', {\n    //     buttons: false,\n    //     timer: 1500\n    //   });\n    //   resetDeleteBlog();\n    // }\n\n    getData()\n\n  },[]);\n\n\n  const getData=(p='')=>{\n    let filter={\n      search:p.search?p.search:''\n    }\n    ApiClient.get('/pages',filter).then(res=>{\n        if(res.data.success){\n            setData(res.data.data)\n            setTotal(res.data.total)\n        }\n    })\n  }\n\n\n  const [formVisibility, setFormVisibilty] = useState(false);\n  const [isAddForm, setIsAddForm] = useState(false);\n  const [blogId, setBlogId] = useState(null);\n  const [singleContent, setSingleContent] = useState();\n\n  const handleFormVisibilty = () => {\n    setFormVisibilty(!formVisibility);\n  };\n\n  const handAddFormToggle = bool => {\n    setIsAddForm(bool);\n  };\n\n  const getBlogId = itm => {\n    setBlogId(itm.slug);\n    setSingleContent(itm);\n  };\n\n  const getSearchKeyword = value => {\n    setSearchKeyword(value);\n    getData({search:value})\n  };\n\n  // console.log('isDeleteError', isDeleteError);\n  return (\n    <Layout title=\"Contents\">\n      <MainSidebar />\n      <div className=\"main-content\">\n        <section className=\"section\">\n          <SectionHeader title=\"Contents\" />\n          {!formVisibility ? (\n            <ContentListing\n            getSearchKeyword={getSearchKeyword}\n            handleFormVisibilty={handleFormVisibilty}\n            handAddFormToggle={handAddFormToggle}\n            data={data && data}\n            total={total && total}\n            page={page}\n            count={count}\n            setPage={setPage}\n            getBlogId={getBlogId}\n            />\n          ) : (\n            <ContentForm\n            handleFormVisibilty={handleFormVisibilty}\n            singleContent={singleContent}\n            blogId={blogId}\n            getData={getData}\n            />\n          )}\n        </section>\n      </div>\n    </Layout>\n  );\n};\n\nexport default Contents\n"]},"metadata":{},"sourceType":"module"}