{"ast":null,"code":"var _jsxFileName = \"/home/jc-2/Documents/sociality-web/src/pages/Contents.js\";\nimport React, { useState, useEffect } from 'react';\nimport swal from 'sweetalert';\nimport Layout from '../components/global/Layout';\nimport MainSidebar from '../components/global/MainSidebar';\nimport SectionHeader from '../components/global/SectionHeader';\nimport ContentForm from '../components/contents/ContentForm';\nimport ContentListing from '../components/contents/ContentListing';\nimport ApiClient from '../components/apiClient';\nimport { API_SLUG } from '../store/constants';\nconst Contents = () => {\n  const token = localStorage.getItem('token');\n  const [sort, setSort] = useState(false);\n  const [searchKeyword, setSearchKeyword] = useState('');\n  const [status, setStatus] = useState(null);\n  const [data, setData] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [page, setPage] = useState(1);\n  const count = 5;\n  useEffect(() => {\n    // if (isDeleteSuccess) {\n    //   swal('Blog has been deleted!', {\n    //     buttons: false,\n    //     timer: 1500\n    //   });\n    //   resetDeleteBlog();\n    // }\n\n    getData();\n  }, []);\n  const getData = function () {\n    let p = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    let filter = {\n      search: p.search ? p.search : ''\n    };\n    ApiClient.get('/pages', filter).then(res => {\n      if (res.data.success) {\n        setData(res.data.data);\n        setTotal(res.data.total);\n      }\n    });\n  };\n  const [formVisibility, setFormVisibilty] = useState(false);\n  const [isAddForm, setIsAddForm] = useState(false);\n  const [blogId, setBlogId] = useState(null);\n  const [singleContent, setSingleContent] = useState();\n  const handleFormVisibilty = () => {\n    setFormVisibilty(!formVisibility);\n  };\n  const handAddFormToggle = bool => {\n    setIsAddForm(bool);\n  };\n  const getBlogId = itm => {\n    setBlogId(itm.slug);\n    setSingleContent(itm);\n  };\n  const getSearchKeyword = value => {\n    setSearchKeyword(value);\n    getData({\n      search: value\n    });\n  };\n\n  // console.log('isDeleteError', isDeleteError);\n  return /*#__PURE__*/React.createElement(Layout, {\n    title: \"Contents\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MainSidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SectionHeader, {\n    title: \"Contents\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }), !formVisibility ? /*#__PURE__*/React.createElement(ContentListing, {\n    getSearchKeyword: getSearchKeyword,\n    handleFormVisibilty: handleFormVisibilty,\n    handAddFormToggle: handAddFormToggle,\n    data: data && data,\n    total: total && total,\n    page: page,\n    count: count,\n    setPage: setPage,\n    getBlogId: getBlogId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(ContentForm, {\n    handleFormVisibilty: handleFormVisibilty,\n    singleContent: singleContent,\n    blogId: blogId,\n    getData: getData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }))));\n};\nexport default Contents;","map":{"version":3,"names":["React","useState","useEffect","swal","Layout","MainSidebar","SectionHeader","ContentForm","ContentListing","ApiClient","API_SLUG","Contents","token","localStorage","getItem","sort","setSort","searchKeyword","setSearchKeyword","status","setStatus","data","setData","total","setTotal","page","setPage","count","getData","p","filter","search","get","then","res","success","formVisibility","setFormVisibilty","isAddForm","setIsAddForm","blogId","setBlogId","singleContent","setSingleContent","handleFormVisibilty","handAddFormToggle","bool","getBlogId","itm","slug","getSearchKeyword","value"],"sources":["/home/jc-2/Documents/sociality-web/src/pages/Contents.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nimport swal from 'sweetalert';\nimport Layout from '../components/global/Layout';\nimport MainSidebar from '../components/global/MainSidebar';\nimport SectionHeader from '../components/global/SectionHeader';\nimport ContentForm from '../components/contents/ContentForm';\nimport ContentListing from '../components/contents/ContentListing';\nimport ApiClient from '../components/apiClient';\nimport { API_SLUG } from '../store/constants';\nconst Contents = () => {\n  const token = localStorage.getItem('token');\n  const [sort, setSort] = useState(false);\n  const [searchKeyword, setSearchKeyword] = useState('');\n  const [status, setStatus] = useState(null);\n  const [data, setData] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [page, setPage] = useState(1);\n  const count=5;\n\n\n\n  useEffect(() => {\n    // if (isDeleteSuccess) {\n    //   swal('Blog has been deleted!', {\n    //     buttons: false,\n    //     timer: 1500\n    //   });\n    //   resetDeleteBlog();\n    // }\n\n    getData()\n\n  },[]);\n\n\n  const getData=(p='')=>{\n    let filter={\n      search:p.search?p.search:''\n    }\n    ApiClient.get('/pages',filter).then(res=>{\n        if(res.data.success){\n            setData(res.data.data)\n            setTotal(res.data.total)\n        }\n    })\n  }\n\n\n  const [formVisibility, setFormVisibilty] = useState(false);\n  const [isAddForm, setIsAddForm] = useState(false);\n  const [blogId, setBlogId] = useState(null);\n  const [singleContent, setSingleContent] = useState();\n\n  const handleFormVisibilty = () => {\n    setFormVisibilty(!formVisibility);\n  };\n\n  const handAddFormToggle = bool => {\n    setIsAddForm(bool);\n  };\n\n  const getBlogId = itm => {\n    setBlogId(itm.slug);\n    setSingleContent(itm);\n  };\n\n  const getSearchKeyword = value => {\n    setSearchKeyword(value);\n    getData({search:value})\n  };\n\n  // console.log('isDeleteError', isDeleteError);\n  return (\n    <Layout title=\"Contents\">\n      <MainSidebar />\n      <div className=\"main-content\">\n        <section className=\"section\">\n          <SectionHeader title=\"Contents\" />\n          {!formVisibility ? (\n            <ContentListing\n            getSearchKeyword={getSearchKeyword}\n            handleFormVisibilty={handleFormVisibilty}\n            handAddFormToggle={handAddFormToggle}\n            data={data && data}\n            total={total && total}\n            page={page}\n            count={count}\n            setPage={setPage}\n            getBlogId={getBlogId}\n            />\n          ) : (\n            <ContentForm\n            handleFormVisibilty={handleFormVisibilty}\n            singleContent={singleContent}\n            blogId={blogId}\n            getData={getData}\n            />\n          )}\n        </section>\n      </div>\n    </Layout>\n  );\n};\n\nexport default Contents\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}